:- module mercury_term_parser.
:- interface.
:- use_module io.
:- use_module mercury_term_lexer.
:- use_module ops.
:- use_module term.
:- use_module varset.
:- type read_term == mercury_term_parser.read_term(term.generic).
:- type read_term(T)
    --->    eof 
    ;       error(string, int)
    ;       term(varset.varset(T), term.term(T)).
:- pred parse_tokens(string, mercury_term_lexer.token_list, mercury_term_parser.read_term(T)).
:- mode parse_tokens(builtin.in, builtin.in, builtin.out) is det.
:- pred parse_tokens_with_op_table(Ops, string, mercury_term_lexer.token_list, mercury_term_parser.read_term(T)) <= (ops.op_table(Ops)).
:- mode parse_tokens_with_op_table(builtin.in, builtin.in, builtin.in, builtin.out) is det.
:- pred read_term(mercury_term_parser.read_term(T), io.io, io.io).
:- mode read_term(builtin.out, builtin.di, builtin.uo) is det.
:- pred read_term(io.text_input_stream, mercury_term_parser.read_term(T), io.io, io.io).
:- mode read_term(builtin.in, builtin.out, builtin.di, builtin.uo) is det.
:- pred read_term_filename(string, mercury_term_parser.read_term(T), io.io, io.io).
:- mode read_term_filename(builtin.in, builtin.out, builtin.di, builtin.uo) is det.
:- pred read_term_filename(io.text_input_stream, string, mercury_term_parser.read_term(T), io.io, io.io).
:- mode read_term_filename(builtin.in, builtin.in, builtin.out, builtin.di, builtin.uo) is det.
:- pred read_term_filename_with_op_table(Ops, string, mercury_term_parser.read_term(T), io.io, io.io) <= (ops.op_table(Ops)).
:- mode read_term_filename_with_op_table(builtin.in, builtin.in, builtin.out, builtin.di, builtin.uo) is det.
:- pred read_term_filename_with_op_table(io.text_input_stream, Ops, string, mercury_term_parser.read_term(T), io.io, io.io) <= (ops.op_table(Ops)).
:- mode read_term_filename_with_op_table(builtin.in, builtin.in, builtin.in, builtin.out, builtin.di, builtin.uo) is det.
:- pred read_term_from_linestr(string, string, int, mercury_term_lexer.line_context, mercury_term_lexer.line_context, mercury_term_lexer.line_posn, mercury_term_lexer.line_posn, mercury_term_parser.read_term(T)).
:- mode read_term_from_linestr(builtin.in, builtin.in, builtin.in, builtin.in, builtin.out, builtin.in, builtin.out, builtin.out) is det.
:- pred read_term_from_linestr_with_op_table(Ops, string, string, int, mercury_term_lexer.line_context, mercury_term_lexer.line_context, mercury_term_lexer.line_posn, mercury_term_lexer.line_posn, mercury_term_parser.read_term(T)) <= (ops.op_table(Ops)).
:- mode read_term_from_linestr_with_op_table(builtin.in, builtin.in, builtin.in, builtin.in, builtin.in, builtin.out, builtin.in, builtin.out, builtin.out) is det.
:- pred read_term_from_string(string, string, io.posn, mercury_term_parser.read_term(T)).
:- mode read_term_from_string(builtin.in, builtin.in, builtin.out, builtin.out) is det.
:- pred read_term_from_string_with_op_table(Ops, string, string, io.posn, mercury_term_parser.read_term(T)) <= (ops.op_table(Ops)).
:- mode read_term_from_string_with_op_table(builtin.in, builtin.in, builtin.in, builtin.out, builtin.out) is det.
:- pred read_term_from_substring(string, string, int, io.posn, io.posn, mercury_term_parser.read_term(T)).
:- mode read_term_from_substring(builtin.in, builtin.in, builtin.in, builtin.in, builtin.out, builtin.out) is det.
:- pred read_term_from_substring_with_op_table(Ops, string, string, int, io.posn, io.posn, mercury_term_parser.read_term(T)) <= (ops.op_table(Ops)).
:- mode read_term_from_substring_with_op_table(builtin.in, builtin.in, builtin.in, builtin.in, builtin.in, builtin.out, builtin.out) is det.
:- pred read_term_with_op_table(Ops, mercury_term_parser.read_term(T), io.io, io.io) <= (ops.op_table(Ops)).
:- mode read_term_with_op_table(builtin.in, builtin.out, builtin.di, builtin.uo) is det.
:- pred read_term_with_op_table(io.text_input_stream, Ops, mercury_term_parser.read_term(T), io.io, io.io) <= (ops.op_table(Ops)).
:- mode read_term_with_op_table(builtin.in, builtin.in, builtin.out, builtin.di, builtin.uo) is det.
