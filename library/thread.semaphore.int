:- module (thread.semaphore).
:- interface.
:- import_module bool.
:- import_module io.
:- type semaphore.
:- pred new(((thread.semaphore).semaphore), (io.io), (io.io)).
:- mode new((builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred signal(((thread.semaphore).semaphore), (io.io), (io.io)).
:- mode signal((builtin.in), (builtin.di), (builtin.uo)) is det.
:- pred try_wait(((thread.semaphore).semaphore), (bool.bool), (io.io), (io.io)).
:- mode try_wait((builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred wait(((thread.semaphore).semaphore), (io.io), (io.io)).
:- mode wait((builtin.in), (builtin.di), (builtin.uo)) is det.
:- implementation.
:- pragma foreign_type(il, semaphore, "class [semaphore__csharp_code]ML_Semaphore").
:- pragma foreign_type(c, semaphore, "ML_Semaphore *").
:- pragma foreign_import_module("C", (thread.semaphore)).
:- pragma foreign_import_module("IL", (thread.semaphore)).
:- pragma foreign_import_module("C", (thread.semaphore)).
:- pragma foreign_import_module("IL", (thread.semaphore)).
