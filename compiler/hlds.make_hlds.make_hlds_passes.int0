:- module ((hlds.make_hlds).make_hlds_passes).
:- interface.
:- import_module bool.
:- import_module list.
:- import_module (hlds.hlds_module).
:- import_module (hlds.hlds_pred).
:- import_module (parse_tree.equiv_type).
:- import_module (parse_tree.error_util).
:- import_module (parse_tree.module_qual).
:- import_module (parse_tree.prog_data).
:- import_module ((hlds.make_hlds).qual_info).
:- type item_status
	--->	item_status(hlds.hlds_pred.import_status, parse_tree.prog_data.need_qualifier).
:- pred do_parse_tree_to_hlds(libs.globals.globals, string, parse_tree.prog_item.compilation_unit, parse_tree.module_qual.mq_info, parse_tree.equiv_type.eqv_map, parse_tree.prog_data.used_modules, hlds.make_hlds.qual_info.qual_info, hlds.make_hlds.found_invalid_type, hlds.make_hlds.found_invalid_inst_or_mode, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec)).
:- mode do_parse_tree_to_hlds((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.out), (builtin.out), (builtin.out), (builtin.out)) is det.
:- implementation.
:- import_module bool.
:- import_module list.
:- import_module (hlds.hlds_module).
:- import_module (hlds.hlds_pred).
:- import_module (parse_tree.equiv_type).
:- import_module (parse_tree.error_util).
:- import_module (parse_tree.module_qual).
:- import_module (parse_tree.prog_data).
:- import_module ((hlds.make_hlds).qual_info).
:- include_module (((hlds.make_hlds).make_hlds_passes).du_type_layout).
:- import_module map.
:- import_module recompilation.
:- import_module require.
:- import_module string.
:- import_module varset.
:- import_module (check_hlds.clause_to_proc).
:- import_module (hlds.pred_table).
:- import_module (hlds.special_pred).
:- import_module (libs.file_util).
:- import_module (libs.globals).
:- import_module (libs.options).
:- import_module (mdbcomp.builtin_modules).
:- import_module (mdbcomp.sym_name).
:- import_module (parse_tree.prog_mode).
:- import_module (parse_tree.prog_out).
:- import_module (parse_tree.prog_type).
:- import_module (parse_tree.prog_util).
:- import_module ((hlds.make_hlds).add_class).
:- import_module ((hlds.make_hlds).add_clause).
:- import_module ((hlds.make_hlds).add_foreign_proc).
:- import_module ((hlds.make_hlds).add_mode).
:- import_module ((hlds.make_hlds).add_mutable_aux_preds).
:- import_module ((hlds.make_hlds).add_pragma).
:- import_module ((hlds.make_hlds).add_pred).
:- import_module ((hlds.make_hlds).add_solver).
:- import_module ((hlds.make_hlds).add_special_pred).
:- import_module ((hlds.make_hlds).add_type).
:- import_module ((hlds.make_hlds).make_hlds_error).
:- import_module ((hlds.make_hlds).make_hlds_warn).
:- import_module (((hlds.make_hlds).make_hlds_passes).du_type_layout).
:- pred add_builtin_type_ctor_special_preds(parse_tree.prog_data.type_ctor, hlds.hlds_module.module_info, hlds.hlds_module.module_info).
:- mode add_builtin_type_ctor_special_preds((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred add_item_decl_pass_1(parse_tree.prog_item.item, hlds.make_hlds.make_hlds_passes.item_status, hlds.make_hlds.make_hlds_passes.item_status, hlds.make_hlds.found_invalid_inst_or_mode, hlds.make_hlds.found_invalid_inst_or_mode, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_item_decl_pass_1((builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_item_decl_pass_2(parse_tree.prog_item.item, hlds.make_hlds.make_hlds_passes.item_status, hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_item_decl_pass_2((builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_item_list_decls_pass_1(list.list(parse_tree.prog_item.item), hlds.make_hlds.make_hlds_passes.item_status, hlds.make_hlds.found_invalid_inst_or_mode, hlds.make_hlds.found_invalid_inst_or_mode, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_item_list_decls_pass_1((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_item_list_decls_pass_2(list.list(parse_tree.prog_item.item), hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_item_list_decls_pass_2((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_item_list_pass_3(list.list(parse_tree.prog_item.item), hlds.hlds_pred.import_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, hlds.make_hlds.qual_info.qual_info, hlds.make_hlds.qual_info.qual_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_item_list_pass_3((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_item_pass_3(parse_tree.prog_item.item, hlds.hlds_pred.import_status, hlds.hlds_pred.import_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, hlds.make_hlds.qual_info.qual_info, hlds.make_hlds.qual_info.qual_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_item_pass_3((builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_module_specifiers(list.list(parse_tree.prog_data.module_specifier), hlds.hlds_pred.import_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info).
:- mode add_module_specifiers((builtin.in), (builtin.in), (builtin.in), (builtin.out)) is det.
:- pred add_pass_1_mode_decl(parse_tree.prog_item.item_mode_decl_info, hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_1_mode_decl((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_1_module_defn(parse_tree.prog_item.item_module_defn_info, hlds.make_hlds.make_hlds_passes.item_status, hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_1_module_defn((builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_1_mutable(parse_tree.prog_item.item_mutable_info, hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_1_mutable((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_1_pred_decl(parse_tree.prog_item.item_pred_decl_info, hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_1_pred_decl((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_1_type_defn(parse_tree.prog_item.item_type_defn_info, hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_1_type_defn((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_2_finalise(parse_tree.prog_item.item_finalise_info, hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_2_finalise((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_2_initialise(parse_tree.prog_item.item_initialise_info, hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_2_initialise((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_2_instance(parse_tree.prog_item.item_instance_info, hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_2_instance((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_2_mutable(parse_tree.prog_item.item_mutable_info, hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_2_mutable((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_2_pred_decl(parse_tree.prog_item.item_pred_decl_info, hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_2_pred_decl((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_2_type_defn(parse_tree.prog_item.item_type_defn_info, hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_2_type_defn((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_3_clause(parse_tree.prog_item.item_clause_info, hlds.hlds_pred.import_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, hlds.make_hlds.qual_info.qual_info, hlds.make_hlds.qual_info.qual_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_3_clause((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_3_finalise(parse_tree.prog_item.item_finalise_info, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_3_finalise((builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_3_initialise(parse_tree.prog_item.item_initialise_info, hlds.hlds_pred.import_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, hlds.make_hlds.qual_info.qual_info, hlds.make_hlds.qual_info.qual_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_3_initialise((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_3_initialise_user(mdbcomp.sym_name.sym_name, parse_tree.prog_data.arity, parse_tree.prog_data.prog_context, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_3_initialise_user((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_3_module_defn(parse_tree.prog_item.item_module_defn_info, hlds.hlds_pred.import_status, hlds.hlds_pred.import_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, hlds.make_hlds.qual_info.qual_info, hlds.make_hlds.qual_info.qual_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_3_module_defn((builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_3_mutable(parse_tree.prog_item.item_mutable_info, hlds.hlds_pred.import_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, hlds.make_hlds.qual_info.qual_info, hlds.make_hlds.qual_info.qual_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_3_mutable((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_3_pred_decl(parse_tree.prog_item.item_pred_decl_info, hlds.hlds_pred.import_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, hlds.make_hlds.qual_info.qual_info, hlds.make_hlds.qual_info.qual_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_3_pred_decl((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_3_promise(parse_tree.prog_item.item_promise_info, hlds.hlds_pred.import_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, hlds.make_hlds.qual_info.qual_info, hlds.make_hlds.qual_info.qual_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_3_promise((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_pass_3_type_defn(parse_tree.prog_item.item_type_defn_info, hlds.hlds_pred.import_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, hlds.make_hlds.qual_info.qual_info, hlds.make_hlds.qual_info.qual_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_pass_3_type_defn((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_promise_clause(parse_tree.prog_data.promise_type, list.list(term.term(parse_tree.prog_data.prog_var_type)), parse_tree.prog_data.prog_varset, parse_tree.prog_item.goal, parse_tree.prog_data.prog_context, hlds.hlds_pred.import_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, hlds.make_hlds.qual_info.qual_info, hlds.make_hlds.qual_info.qual_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_promise_clause((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_solver_type_mutable_items_clauses(list.list(parse_tree.prog_item.item_mutable_info), hlds.hlds_pred.import_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, hlds.make_hlds.qual_info.qual_info, hlds.make_hlds.qual_info.qual_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_solver_type_mutable_items_clauses((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_solver_type_mutable_items_pass_1(list.list(parse_tree.prog_item.item_mutable_info), hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_solver_type_mutable_items_pass_1((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred add_solver_type_mutable_items_pass_2(list.list(parse_tree.prog_item.item_mutable_info), hlds.make_hlds.make_hlds_passes.item_status, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode add_solver_type_mutable_items_pass_2((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred module_defn_update_import_status(parse_tree.prog_item.module_defn, hlds.make_hlds.make_hlds_passes.item_status).
:- mode module_defn_update_import_status((builtin.in), (builtin.out)) is semidet.
:- pred module_mark_as_external(mdbcomp.sym_name.sym_name, int, parse_tree.prog_data.prog_context, hlds.hlds_module.module_info, hlds.hlds_module.module_info, list.list(parse_tree.error_util.error_spec), list.list(parse_tree.error_util.error_spec)).
:- mode module_mark_as_external((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred module_mark_preds_as_external(list.list(hlds.hlds_pred.pred_id), hlds.hlds_module.module_info, hlds.hlds_module.module_info).
:- mode module_mark_preds_as_external((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred update_module_version_numbers(mdbcomp.sym_name.module_name, recompilation.version_numbers, recompilation.recompilation_info, recompilation.recompilation_info).
:- mode update_module_version_numbers((builtin.in), (builtin.in), (builtin.in), (builtin.out)) is det.
