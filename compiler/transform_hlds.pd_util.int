:- module (transform_hlds.pd_util).
:- interface.
:- use_module bool.
:- use_module check_hlds.
:- use_module hlds.
:- use_module list.
:- use_module map.
:- use_module maybe.
:- use_module parse_tree.
:- use_module (check_hlds.mode_errors).
:- use_module (check_hlds.simplify).
:- use_module (hlds.hlds_goal).
:- use_module (hlds.hlds_module).
:- use_module (hlds.hlds_pred).
:- use_module (hlds.vartypes).
:- use_module (parse_tree.prog_data).
:- use_module (parse_tree.set_of_var).
:- use_module (transform_hlds.pd_info).
:- use_module ((check_hlds.simplify).simplify_tasks).
:- pred convert_branch_info(transform_hlds.pd_info.pd_branch_info(int), parse_tree.prog_data.prog_vars, transform_hlds.pd_info.pd_branch_info(parse_tree.prog_data.prog_var)).
:- mode convert_branch_info((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred get_branch_vars_goal(hlds.hlds_goal.hlds_goal, maybe.maybe(transform_hlds.pd_info.pd_branch_info(parse_tree.prog_data.prog_var)), transform_hlds.pd_info.pd_info, transform_hlds.pd_info.pd_info).
:- mode get_branch_vars_goal((builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred get_branch_vars_proc(hlds.hlds_pred.pred_proc_id, hlds.hlds_pred.proc_info, hlds.hlds_module.module_info, hlds.hlds_module.module_info, transform_hlds.pd_info.pd_arg_info, transform_hlds.pd_info.pd_arg_info).
:- mode get_branch_vars_proc((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred goal_get_calls(hlds.hlds_goal.hlds_goal, list.list(hlds.hlds_pred.pred_proc_id)).
:- mode goal_get_calls((builtin.in), (builtin.out)) is det.
:- pred goals_match(hlds.hlds_module.module_info, hlds.hlds_goal.hlds_goal, parse_tree.prog_data.prog_vars, list.list(parse_tree.prog_data.mer_type), hlds.hlds_goal.hlds_goal, hlds.vartypes.vartypes, map.map(parse_tree.prog_data.prog_var, parse_tree.prog_data.prog_var), parse_tree.prog_data.tsubst).
:- mode goals_match((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.out)) is semidet.
:- pred inst_MSG(parse_tree.prog_data.mer_inst, parse_tree.prog_data.mer_inst, hlds.hlds_module.module_info, parse_tree.prog_data.mer_inst).
:- mode inst_MSG((builtin.in), (builtin.in), (builtin.in), (builtin.out)) is semidet.
:- pred inst_list_size(hlds.hlds_module.module_info, list.list(parse_tree.prog_data.mer_inst), int).
:- mode inst_list_size((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred inst_size(hlds.hlds_module.module_info, parse_tree.prog_data.mer_inst, int).
:- mode inst_size((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred pd_can_reorder_goals(hlds.hlds_module.module_info, bool.bool, hlds.hlds_goal.hlds_goal, hlds.hlds_goal.hlds_goal).
:- mode pd_can_reorder_goals((builtin.in), (builtin.in), (builtin.in), (builtin.in)) is semidet.
:- pred pd_recompute_instmap_delta(hlds.hlds_goal.hlds_goal, hlds.hlds_goal.hlds_goal, transform_hlds.pd_info.pd_info, transform_hlds.pd_info.pd_info).
:- mode pd_recompute_instmap_delta((builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred pd_requantify_goal(parse_tree.set_of_var.set_of_progvar, hlds.hlds_goal.hlds_goal, hlds.hlds_goal.hlds_goal, transform_hlds.pd_info.pd_info, transform_hlds.pd_info.pd_info).
:- mode pd_requantify_goal((builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred pd_simplify_goal(check_hlds.simplify.simplify_tasks.simplify_tasks, hlds.hlds_goal.hlds_goal, hlds.hlds_goal.hlds_goal, transform_hlds.pd_info.pd_info, transform_hlds.pd_info.pd_info).
:- mode pd_simplify_goal((builtin.in), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred propagate_constraints(hlds.hlds_goal.hlds_goal, hlds.hlds_goal.hlds_goal, transform_hlds.pd_info.pd_info, transform_hlds.pd_info.pd_info).
:- mode propagate_constraints((builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred unique_modecheck_goal(hlds.hlds_goal.hlds_goal, hlds.hlds_goal.hlds_goal, list.list(check_hlds.mode_errors.mode_error_info), transform_hlds.pd_info.pd_info, transform_hlds.pd_info.pd_info).
:- mode unique_modecheck_goal((builtin.in), (builtin.out), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred unique_modecheck_goal_live_vars(parse_tree.set_of_var.set_of_progvar, hlds.hlds_goal.hlds_goal, hlds.hlds_goal.hlds_goal, list.list(check_hlds.mode_errors.mode_error_info), transform_hlds.pd_info.pd_info, transform_hlds.pd_info.pd_info).
:- mode unique_modecheck_goal_live_vars((builtin.in), (builtin.in), (builtin.out), (builtin.out), (builtin.in), (builtin.out)) is det.
