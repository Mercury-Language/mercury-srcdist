:- module ((check_hlds.simplify).simplify_info).
:- interface.
:- use_module bool.
:- use_module hlds.
:- use_module libs.
:- use_module list.
:- use_module maybe.
:- use_module parse_tree.
:- use_module set.
:- use_module (hlds.const_struct).
:- use_module (hlds.hlds_module).
:- use_module (hlds.hlds_pred).
:- use_module (hlds.hlds_rtti).
:- use_module (libs.optimization_options).
:- use_module (libs.trace_params).
:- use_module (parse_tree.error_spec).
:- use_module (parse_tree.prog_data).
:- use_module (parse_tree.var_table).
:- use_module ((check_hlds.simplify).simplify_tasks).
:- type innermost_proc
    --->    imp_whole_proc 
    ;       imp_lambda(parse_tree.prog_data.prog_context).
:- type maybe_allow_messages
    --->    do_not_allow_messages 
    ;       allow_messages .
:- type maybe_fully_strict
    --->    not_fully_strict 
    ;       fully_strict .
:- type maybe_ignore_marked_static
    --->    do_not_ignore_marked_static 
    ;       ignore_marked_static .
:- type maybe_rerun_det
    --->    do_not_rerun_det 
    ;       rerun_det .
:- type maybe_rerun_quant_instmap_deltas
    --->    do_not_rerun_quant_instmap_deltas 
    ;       rerun_quant_instmap_deltas .
:- type maybe_trace_optimized
    --->    not_trace_optimized 
    ;       trace_optimized .
:- type simplify_info.
:- type simplify_nested_context
    --->    simplify_nested_context((((check_hlds.simplify).simplify_info).snc_inside_dupl_for_switch) :: bool.bool, (((check_hlds.simplify).simplify_info).snc_proc_is_model_non) :: maybe.maybe(check_hlds.simplify.simplify_info.innermost_proc), (((check_hlds.simplify).simplify_info).snc_num_enclosing_barriers) :: uint, (((check_hlds.simplify).simplify_info).snc_switch_arms) :: list.list(check_hlds.simplify.simplify_info.switch_arm)).
:- type switch_arm
    --->    switch_arm(parse_tree.prog_data.prog_var, set.set(parse_tree.prog_data.cons_id)).
:- pred simplify_do_after_front_end(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_after_front_end((builtin.in)) is semidet.
:- pred simplify_do_const_prop(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_const_prop((builtin.in)) is semidet.
:- pred simplify_do_elim_removable_scopes(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_elim_removable_scopes((builtin.in)) is semidet.
:- pred simplify_do_excess_assign(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_excess_assign((builtin.in)) is semidet.
:- pred simplify_do_format_calls(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_format_calls((builtin.in)) is semidet.
:- pred simplify_do_ignore_par_conjunctions(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_ignore_par_conjunctions((builtin.in)) is semidet.
:- pred simplify_do_mark_code_model_changes(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_mark_code_model_changes((builtin.in)) is semidet.
:- pred simplify_do_opt_duplicate_calls(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_opt_duplicate_calls((builtin.in)) is semidet.
:- pred simplify_do_test_after_switch(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_test_after_switch((builtin.in)) is semidet.
:- pred simplify_do_warn_duplicate_calls(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_warn_duplicate_calls((builtin.in)) is semidet.
:- pred simplify_do_warn_implicit_stream_calls(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_warn_implicit_stream_calls((builtin.in)) is semidet.
:- pred simplify_do_warn_no_solution_disjunct(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_warn_no_solution_disjunct((builtin.in)) is semidet.
:- pred simplify_do_warn_obsolete(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_warn_obsolete((builtin.in)) is semidet.
:- pred simplify_do_warn_or_opt_duplicate_calls(check_hlds.simplify.simplify_info.simplify_info, libs.optimization_options.maybe_opt_dup_calls).
:- mode simplify_do_warn_or_opt_duplicate_calls((builtin.in), (builtin.out)) is semidet.
:- pred simplify_do_warn_simple_code(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_warn_simple_code((builtin.in)) is semidet.
:- pred simplify_do_warn_suspicious_recursion(check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_do_warn_suspicious_recursion((builtin.in)) is semidet.
:- pred simplify_info_add_elim_vars(list.list(parse_tree.prog_data.prog_var), check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_add_elim_vars((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_add_message(parse_tree.error_spec.error_spec, check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_add_message((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_apply_substitutions_and_duplicate(parse_tree.prog_data.prog_var, parse_tree.prog_data.prog_var, parse_tree.prog_data.tsubst, check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_apply_substitutions_and_duplicate((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_allow_messages(check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.maybe_allow_messages).
:- mode simplify_info_get_allow_messages((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_cost_delta(check_hlds.simplify.simplify_info.simplify_info, int).
:- mode simplify_info_get_cost_delta((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_defined_where(check_hlds.simplify.simplify_info.simplify_info, hlds.const_struct.defined_where).
:- mode simplify_info_get_defined_where((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_deleted_call_callees(check_hlds.simplify.simplify_info.simplify_info, set.set(hlds.hlds_pred.pred_proc_id)).
:- mode simplify_info_get_deleted_call_callees((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_eff_trace_level_optimized(check_hlds.simplify.simplify_info.simplify_info, libs.trace_params.eff_trace_level, check_hlds.simplify.simplify_info.maybe_trace_optimized).
:- mode simplify_info_get_eff_trace_level_optimized((builtin.in), (builtin.out), (builtin.out)) is det.
:- pred simplify_info_get_elim_vars(check_hlds.simplify.simplify_info.simplify_info, list.list(list.list(parse_tree.prog_data.prog_var))).
:- mode simplify_info_get_elim_vars((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_error_specs(check_hlds.simplify.simplify_info.simplify_info, list.list(parse_tree.error_spec.error_spec)).
:- mode simplify_info_get_error_specs((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_found_contains_trace(check_hlds.simplify.simplify_info.simplify_info, bool.bool).
:- mode simplify_info_get_found_contains_trace((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_fully_strict(check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.maybe_fully_strict).
:- mode simplify_info_get_fully_strict((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_has_parallel_conj(check_hlds.simplify.simplify_info.simplify_info, hlds.hlds_pred.has_parallel_conj).
:- mode simplify_info_get_has_parallel_conj((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_has_user_event(check_hlds.simplify.simplify_info.simplify_info, hlds.hlds_pred.has_user_event).
:- mode simplify_info_get_has_user_event((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_ignore_marked_static(check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.maybe_ignore_marked_static).
:- mode simplify_info_get_ignore_marked_static((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_inst_varset(check_hlds.simplify.simplify_info.simplify_info, parse_tree.prog_data.inst_varset).
:- mode simplify_info_get_inst_varset((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_module_info(check_hlds.simplify.simplify_info.simplify_info, hlds.hlds_module.module_info).
:- mode simplify_info_get_module_info((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_pred_proc_id(check_hlds.simplify.simplify_info.simplify_info, hlds.hlds_pred.pred_proc_id).
:- mode simplify_info_get_pred_proc_id((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_pred_proc_info(check_hlds.simplify.simplify_info.simplify_info, hlds.hlds_pred.pred_info, hlds.hlds_pred.proc_info).
:- mode simplify_info_get_pred_proc_info((builtin.in), (builtin.out), (builtin.out)) is det.
:- pred simplify_info_get_rerun_det(check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.maybe_rerun_det).
:- mode simplify_info_get_rerun_det((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_rerun_quant_instmap_delta(check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.maybe_rerun_quant_instmap_deltas).
:- mode simplify_info_get_rerun_quant_instmap_delta((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_rtti_varmaps(check_hlds.simplify.simplify_info.simplify_info, hlds.hlds_rtti.rtti_varmaps).
:- mode simplify_info_get_rtti_varmaps((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_simplify_tasks(check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_tasks.simplify_tasks).
:- mode simplify_info_get_simplify_tasks((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_switch_arms_to_split(check_hlds.simplify.simplify_info.simplify_info, set.set(check_hlds.simplify.simplify_info.switch_arm)).
:- mode simplify_info_get_switch_arms_to_split((builtin.in), (builtin.out)) is det.
:- pred simplify_info_get_var_table(check_hlds.simplify.simplify_info.simplify_info, parse_tree.var_table.var_table).
:- mode simplify_info_get_var_table((builtin.in), (builtin.out)) is det.
:- pred simplify_info_incr_cost_delta(int, check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_incr_cost_delta((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_init(hlds.hlds_module.module_info, hlds.hlds_pred.pred_id, hlds.hlds_pred.proc_id, hlds.hlds_pred.proc_info, check_hlds.simplify.simplify_tasks.simplify_tasks, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_init((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_reinit(check_hlds.simplify.simplify_tasks.simplify_tasks, check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_reinit((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_allow_messages(check_hlds.simplify.simplify_info.maybe_allow_messages, check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_allow_messages((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_cost_delta(int, check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_cost_delta((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_deleted_call_callees(set.set(hlds.hlds_pred.pred_proc_id), check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_deleted_call_callees((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_elim_vars(list.list(list.list(parse_tree.prog_data.prog_var)), check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_elim_vars((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_error_specs(list.list(parse_tree.error_spec.error_spec), check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_error_specs((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_found_contains_trace(bool.bool, check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_found_contains_trace((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_has_parallel_conj(hlds.hlds_pred.has_parallel_conj, check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_has_parallel_conj((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_has_user_event(hlds.hlds_pred.has_user_event, check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_has_user_event((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_module_info(hlds.hlds_module.module_info, check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_module_info((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_rerun_det(check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_rerun_det((builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_rerun_quant_instmap_delta(check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_rerun_quant_instmap_delta((builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_rtti_varmaps(hlds.hlds_rtti.rtti_varmaps, check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_rtti_varmaps((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_simplify_tasks(check_hlds.simplify.simplify_tasks.simplify_tasks, check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_simplify_tasks((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_switch_arms_to_split(set.set(check_hlds.simplify.simplify_info.switch_arm), check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_switch_arms_to_split((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred simplify_info_set_var_table(parse_tree.var_table.var_table, check_hlds.simplify.simplify_info.simplify_info, check_hlds.simplify.simplify_info.simplify_info).
:- mode simplify_info_set_var_table((builtin.in), (builtin.in), (builtin.out)) is det.
