:- module (backend_libs.compile_target_code).
:- interface.
:- import_module bool.
:- import_module io.
:- import_module libs.
:- import_module list.
:- import_module maybe.
:- import_module mdbcomp.
:- import_module parse_tree.
:- import_module (libs.file_util).
:- import_module (libs.globals).
:- import_module (mdbcomp.prim_data).
:- import_module (parse_tree.module_imports).
:- import_module (parse_tree.prog_data).
:- type linked_target_type
	--->	executable 
	;	static_library 
	;	shared_library 
	;	csharp_executable 
	;	csharp_library 
	;	java_launcher 
	;	java_archive 
	;	erlang_launcher 
	;	erlang_archive .
:- type pic
	--->	pic 
	;	link_with_pic 
	;	non_pic .
:- pred assemble(io.output_stream, backend_libs.compile_target_code.pic, mdbcomp.prim_data.module_name, libs.globals.globals, bool.bool, io.io, io.io).
:- mode assemble((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred compile_c_file(io.output_stream, backend_libs.compile_target_code.pic, mdbcomp.prim_data.module_name, libs.globals.globals, bool.bool, io.io, io.io).
:- mode compile_c_file((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred compile_csharp_file(io.output_stream, parse_tree.module_imports.module_and_imports, libs.file_util.file_name, libs.file_util.file_name, libs.globals.globals, bool.bool, io.io, io.io).
:- mode compile_csharp_file((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred compile_erlang_file(io.output_stream, libs.file_util.file_name, libs.globals.globals, bool.bool, io.io, io.io).
:- mode compile_erlang_file((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred compile_java_files(io.output_stream, list.list(string), libs.globals.globals, bool.bool, io.io, io.io).
:- mode compile_java_files((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred do_compile_c_file(io.output_stream, backend_libs.compile_target_code.pic, string, string, libs.globals.globals, bool.bool, io.io, io.io).
:- mode do_compile_c_file((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred do_il_assemble(io.output_stream, libs.file_util.file_name, libs.file_util.file_name, parse_tree.prog_data.has_main, libs.globals.globals, bool.bool, io.io, io.io).
:- mode do_il_assemble((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred get_linked_target_type(libs.globals.globals, backend_libs.compile_target_code.linked_target_type).
:- mode get_linked_target_type((builtin.in), (builtin.out)) is det.
:- pred get_object_code_type(libs.globals.globals, backend_libs.compile_target_code.linked_target_type, backend_libs.compile_target_code.pic).
:- mode get_object_code_type((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred il_assemble(io.output_stream, mdbcomp.prim_data.module_name, parse_tree.prog_data.has_main, libs.globals.globals, bool.bool, io.io, io.io).
:- mode il_assemble((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred link(io.output_stream, backend_libs.compile_target_code.linked_target_type, mdbcomp.prim_data.module_name, list.list(string), libs.globals.globals, bool.bool, io.io, io.io).
:- mode link((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred link_module_list(list.list(string), list.list(string), libs.globals.globals, bool.bool, io.io, io.io).
:- mode link_module_list((builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred make_all_module_command(libs.globals.globals, string, mdbcomp.prim_data.module_name, list.list(mdbcomp.prim_data.module_name), string, io.io, io.io).
:- mode make_all_module_command((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred make_erlang_library_init_file(libs.globals.globals, io.output_stream, mdbcomp.prim_data.module_name, list.list(mdbcomp.prim_data.module_name), bool.bool, io.io, io.io).
:- mode make_erlang_library_init_file((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred make_erlang_program_init_file(libs.globals.globals, io.output_stream, mdbcomp.prim_data.module_name, list.list(mdbcomp.prim_data.module_name), maybe.maybe(libs.file_util.file_name), io.io, io.io).
:- mode make_erlang_program_init_file((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred make_init_obj_file(libs.globals.globals, io.output_stream, mdbcomp.prim_data.module_name, list.list(mdbcomp.prim_data.module_name), maybe.maybe(libs.file_util.file_name), io.io, io.io).
:- mode make_init_obj_file((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred make_library_init_file(libs.globals.globals, io.output_stream, mdbcomp.prim_data.module_name, list.list(mdbcomp.prim_data.module_name), bool.bool, io.io, io.io).
:- mode make_library_init_file((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred make_standalone_interface(libs.globals.globals, string, io.io, io.io).
:- mode make_standalone_interface((builtin.in), (builtin.in), (builtin.di), (builtin.uo)) is det.
:- pred maybe_pic_object_file_extension(libs.globals.globals, backend_libs.compile_target_code.pic, string).
:- mode maybe_pic_object_file_extension((builtin.in), (builtin.in), (builtin.out)) is det.
:- mode maybe_pic_object_file_extension((builtin.in), (builtin.out), (builtin.in)) is semidet.
:- pred output_c_compiler_flags(libs.globals.globals, io.output_stream, io.io, io.io).
:- mode output_c_compiler_flags((builtin.in), (builtin.in), (builtin.di), (builtin.uo)) is det.
:- pred output_c_include_directory_flags(libs.globals.globals, io.output_stream, io.io, io.io).
:- mode output_c_include_directory_flags((builtin.in), (builtin.in), (builtin.di), (builtin.uo)) is det.
:- pred output_grade_defines(libs.globals.globals, io.output_stream, io.io, io.io).
:- mode output_grade_defines((builtin.in), (builtin.in), (builtin.di), (builtin.uo)) is det.
:- pred output_library_link_flags(libs.globals.globals, io.output_stream, io.io, io.io).
:- mode output_library_link_flags((builtin.in), (builtin.in), (builtin.di), (builtin.uo)) is det.
:- pred post_link_make_symlink_or_copy(io.output_stream, backend_libs.compile_target_code.linked_target_type, mdbcomp.prim_data.module_name, libs.globals.globals, bool.bool, bool.bool, io.io, io.io).
:- mode post_link_make_symlink_or_copy((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out), (builtin.out), (builtin.di), (builtin.uo)) is det.
:- pred shared_libraries_supported(libs.globals.globals, bool.bool).
:- mode shared_libraries_supported((builtin.in), (builtin.out)) is det.
