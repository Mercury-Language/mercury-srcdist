:- module (check_hlds.switch_detection).
:- interface.
:- use_module hlds.
:- use_module io.
:- use_module list.
:- use_module parse_tree.
:- use_module (hlds.hlds_goal).
:- use_module (hlds.hlds_module).
:- use_module (hlds.hlds_pred).
:- use_module (parse_tree.prog_data).
:- type found_deconstruct
    --->    did_find_deconstruct 
    ;       did_not_find_deconstruct .
:- type process_unify(Result, Info) == pred(parse_tree.prog_data.prog_var, hlds.hlds_goal.hlds_goal_expr, hlds.hlds_goal.hlds_goal_info, list.list(hlds.hlds_goal.hlds_goal), Result, Result, Info, Info).
:- type switch_detect_info.
:- inst goal_expr_deconstruct for (hlds.hlds_goal).hlds_goal_expr/0
    --->    unify(ground, ground, ground, ((hlds.hlds_goal).unification_deconstruct), ground).
:- inst process_unify == (pred((builtin.in), builtin.in(((check_hlds.switch_detection).goal_expr_deconstruct)), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det).
:- pred detect_switches_in_module(io.text_output_stream, hlds.hlds_module.module_info, hlds.hlds_module.module_info).
:- mode detect_switches_in_module((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred detect_switches_in_proc(check_hlds.switch_detection.switch_detect_info, hlds.hlds_pred.proc_info, hlds.hlds_pred.proc_info).
:- mode detect_switches_in_proc((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred find_bind_var(parse_tree.prog_data.prog_var, check_hlds.switch_detection.process_unify(Result, Info), hlds.hlds_goal.hlds_goal, hlds.hlds_goal.hlds_goal, Result, Result, Info, Info, check_hlds.switch_detection.found_deconstruct).
:- mode find_bind_var((builtin.in), builtin.in(((check_hlds.switch_detection).process_unify)), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.in), (builtin.out), (builtin.out)) is det.
:- func init_switch_detect_info(hlds.hlds_module.module_info) = check_hlds.switch_detection.switch_detect_info.
