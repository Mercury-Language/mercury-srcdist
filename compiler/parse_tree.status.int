:- module (parse_tree.status).
:- interface.
:- import_module bool.
:- import_module maybe.
:- import_module mdbcomp.
:- import_module (mdbcomp.sym_name).
:- type aug_module_section
    --->    ams_interface 
    ;       ams_implementation 
    ;       ams_impl_but_exported_to_submodules 
    ;       ams_imported(mdbcomp.sym_name.module_name, parse_tree.status.import_locn)
    ;       ams_used(mdbcomp.sym_name.module_name, parse_tree.status.import_locn)
    ;       ams_abstract_imported(mdbcomp.sym_name.module_name)
    ;       ams_opt_imported(mdbcomp.sym_name.module_name)
    ;       ams_transitively_imported .
:- type import_locn
    --->    import_locn_implementation 
    ;       import_locn_interface 
    ;       import_locn_ancestor 
    ;       import_locn_ancestor_private_interface_proper .
:- type import_status
    --->    status_external(parse_tree.status.import_status)
    ;       status_imported(parse_tree.status.import_locn)
    ;       status_opt_imported 
    ;       status_abstract_imported 
    ;       status_pseudo_imported 
    ;       status_exported 
    ;       status_opt_exported 
    ;       status_abstract_exported 
    ;       status_pseudo_exported 
    ;       status_exported_to_submodules 
    ;       status_local .
:- type item_status
    --->    item_status(parse_tree.status.import_status, parse_tree.status.need_qualifier).
:- type module_section
    --->    ms_interface 
    ;       ms_implementation .
:- type need_qualifier
    --->    must_be_qualified 
    ;       may_be_unqualified .
:- pred aug_module_section_status(parse_tree.status.aug_module_section, maybe.maybe(parse_tree.status.item_status)).
:- mode aug_module_section_status((builtin.in), (builtin.out)) is det.
:- func make_ams_abstract_imported(mdbcomp.sym_name.module_name) = parse_tree.status.aug_module_section.
:- func make_ams_impl_but_exported_to_submodules(mdbcomp.sym_name.module_name) = parse_tree.status.aug_module_section.
:- func make_ams_implementation(mdbcomp.sym_name.module_name) = parse_tree.status.aug_module_section.
:- func make_ams_imported(parse_tree.status.import_locn, mdbcomp.sym_name.module_name) = parse_tree.status.aug_module_section.
:- func make_ams_interface(mdbcomp.sym_name.module_name) = parse_tree.status.aug_module_section.
:- func make_ams_opt_imported(mdbcomp.sym_name.module_name) = parse_tree.status.aug_module_section.
:- func make_ams_transitively_imported(mdbcomp.sym_name.module_name) = parse_tree.status.aug_module_section.
:- func make_ams_used(parse_tree.status.import_locn, mdbcomp.sym_name.module_name) = parse_tree.status.aug_module_section.
:- func status_defined_in_impl_section(parse_tree.status.import_status) = bool.bool.
:- func status_defined_in_this_module(parse_tree.status.import_status) = bool.bool.
:- func status_is_exported(parse_tree.status.import_status) = bool.bool.
:- func status_is_exported_to_non_submodules(parse_tree.status.import_status) = bool.bool.
:- func status_is_imported(parse_tree.status.import_status) = bool.bool.
