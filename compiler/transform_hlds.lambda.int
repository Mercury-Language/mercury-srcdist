:- module (transform_hlds.lambda).
:- interface.
:- use_module hlds.
:- use_module parse_tree.
:- use_module (hlds.hlds_goal).
:- use_module (hlds.hlds_module).
:- use_module (hlds.hlds_pred).
:- use_module (hlds.hlds_rtti).
:- use_module (parse_tree.prog_data).
:- use_module (parse_tree.set_of_var).
:- use_module (parse_tree.var_table).
:- type lambda_info.
:- type maybe_recompute_nonlocals
    --->    need_not_recompute_nonlocals 
    ;       must_recompute_nonlocals .
:- type reg_wrapper_proc
    --->    reg_wrapper_proc(parse_tree.set_of_var.set_of_progvar)
    ;       not_reg_wrapper_proc .
:- pred expand_lambda(transform_hlds.lambda.reg_wrapper_proc, parse_tree.prog_data.prog_var, hlds.hlds_goal.unify_rhs, hlds.hlds_goal.unify_mode, hlds.hlds_goal.unification, hlds.hlds_goal.unify_context, hlds.hlds_goal.hlds_goal_expr, transform_hlds.lambda.lambda_info, transform_hlds.lambda.lambda_info).
:- mode expand_lambda((builtin.in), (builtin.in), builtin.in(((hlds.hlds_goal).rhs_lambda_goal)), (builtin.in), builtin.in(((hlds.hlds_goal).unification_construct)), (builtin.in), (builtin.out), (builtin.in), (builtin.out)) is det.
:- pred expand_lambdas_in_module(hlds.hlds_module.module_info, hlds.hlds_module.module_info).
:- mode expand_lambdas_in_module((builtin.in), (builtin.out)) is det.
:- pred init_lambda_info(hlds.hlds_module.module_info, hlds.hlds_pred.pred_info, parse_tree.prog_data.tvarset, parse_tree.prog_data.inst_varset, parse_tree.var_table.var_table, hlds.hlds_rtti.rtti_varmaps, hlds.hlds_pred.has_parallel_conj, transform_hlds.lambda.lambda_info).
:- mode init_lambda_info((builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.in), (builtin.out)) is det.
:- pred lambda_info_get_inst_varset(transform_hlds.lambda.lambda_info, parse_tree.prog_data.inst_varset).
:- mode lambda_info_get_inst_varset((builtin.in), (builtin.out)) is det.
:- pred lambda_info_get_module_info(transform_hlds.lambda.lambda_info, hlds.hlds_module.module_info).
:- mode lambda_info_get_module_info((builtin.in), (builtin.out)) is det.
:- pred lambda_info_get_pred_info(transform_hlds.lambda.lambda_info, hlds.hlds_pred.pred_info).
:- mode lambda_info_get_pred_info((builtin.in), (builtin.out)) is det.
:- pred lambda_info_get_recompute_nonlocals(transform_hlds.lambda.lambda_info, transform_hlds.lambda.maybe_recompute_nonlocals).
:- mode lambda_info_get_recompute_nonlocals((builtin.in), (builtin.out)) is det.
:- pred lambda_info_get_rtti_varmaps(transform_hlds.lambda.lambda_info, hlds.hlds_rtti.rtti_varmaps).
:- mode lambda_info_get_rtti_varmaps((builtin.in), (builtin.out)) is det.
:- pred lambda_info_get_tvarset(transform_hlds.lambda.lambda_info, parse_tree.prog_data.tvarset).
:- mode lambda_info_get_tvarset((builtin.in), (builtin.out)) is det.
:- pred lambda_info_get_var_table(transform_hlds.lambda.lambda_info, parse_tree.var_table.var_table).
:- mode lambda_info_get_var_table((builtin.in), (builtin.out)) is det.
:- pred lambda_info_set_module_info(hlds.hlds_module.module_info, transform_hlds.lambda.lambda_info, transform_hlds.lambda.lambda_info).
:- mode lambda_info_set_module_info((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred lambda_info_set_recompute_nonlocals(transform_hlds.lambda.maybe_recompute_nonlocals, transform_hlds.lambda.lambda_info, transform_hlds.lambda.lambda_info).
:- mode lambda_info_set_recompute_nonlocals((builtin.in), (builtin.in), (builtin.out)) is det.
:- pred lambda_info_set_var_table(parse_tree.var_table.var_table, transform_hlds.lambda.lambda_info, transform_hlds.lambda.lambda_info).
:- mode lambda_info_set_var_table((builtin.in), (builtin.in), (builtin.out)) is det.
